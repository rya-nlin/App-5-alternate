<!DOCTYPE html>
<html>
  <head>
    <title>DNA Sequence Analysis</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="w3.css">
    <link rel="stylesheet" href="w3-colors-flat.css">
  </head>
  <script>
    function analyze(){
      const seq = document.getElementById("sequence").value;
      let sentence = seq;
      var numA=0;
      var i = 0;
      while(i>=0){
        i=sentence.search('A');
        if(i!=-1){
          numA++;
        }
        sentence = sentence.slice(i+1);
      }
      //while loop counts number of A bases
      let seq1 = seq;
      var numC =0;
      var j=0;
      while(j>=0){
        j=seq1.search('C');
        if(j!=-1){
          numC++;
        }
        seq1 = seq1.slice(j+1);
      }
      //counting num of Cs
      let seq2 = seq;
      var numG=0;
      var k=0;
      while(k>=0){
        k=seq2.search('G');
        if(k!=-1){
          numG++;
        }
        seq2=seq2.slice(k+1);
      }
      //count num of Gs
      let seq3 = seq;
      var numT=0;
      var l=0;
      while(l>=0){
        l=seq3.search('T');
        if(l!=-1){
          numT++;
        }
        seq3=seq3.slice(l+1);
      }
      //count num of Ts
            if (totalBases === 0) {
        alert("No valid DNA bases found.");
        return;
      }
      var aPct = (numA/(numC+numG+numT))*100;
      var cPct = (numC/(numA+numG+numT))*100;
      var tPct = (numT/(numA+numC+numG))*100;
      var gPct = (numG/(numA+numC+numT))*100;
      //finding percentages of bases
      var text = "There are " + numA + `A bases (${aPct} %). There are ` + numC+ `C bases (${cPct} %). There are ${numG} G bases (${gPct} %). There are ${numT} T bases (${tPct} %).` + `A-T percentage = ${aPct+tPct}. C-T percentage = ${cPct+gPct}.`;
      //text to be displayed on results page
      var par = document.getElementById("results");
      par.innerHTML = text;
      //putting final text on HTML page
    }
  </script>
  <style>
  </style>
  <body>
    <div class="w3-container w3-flat-emerald">
      <h1>DNA Sequence Analysis</h1>
    </div>
    <!-- header at top -->
    <div class="w3-container">
      <!-- home page where user inputs dna sequence and clicks button to recieve aalysis -->
      <p>Enter your DNA sequence.</p>
      <input type="text" id="sequence" name="sequence">
      <a href="#one" onclick ="analyze(); return false;"class= "w3-btn w3-black">Analyze</a>
    </div>
    <div class="page" id="one">
      <!-- next page displays results-->
        <div class="w3-container w3-flat-emerald">
          <h1>Results</h1>
        </div>
        <div class = "w3-container">
          <p id="results"></p>
        </div>
    </div>
  </body>
</html>
